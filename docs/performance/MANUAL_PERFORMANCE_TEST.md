# 手动性能测试指南

## 概述

本指南提供手动测试应用性能的步骤，无需安装额外工具。

## 测试前准备

1. **启动开发服务器**
   ```bash
   npm run dev
   ```

2. **打开Chrome浏览器**
   - 使用Chrome 90+版本
   - 打开无痕模式（避免扩展干扰）

3. **打开开发者工具**
   - 按F12或右键 → 检查
   - 切换到"Performance"标签

## 测试1: 首屏加载性能

### 步骤

1. **清除缓存**
   - 开发者工具 → Network标签
   - 勾选"Disable cache"
   - 刷新页面（Ctrl+Shift+R）

2. **录制性能**
   - 切换到Performance标签
   - 点击录制按钮（圆圈图标）
   - 刷新页面
   - 等待页面完全加载
   - 停止录制

3. **查看指标**
   - 查看FCP（First Contentful Paint）
   - 查看LCP（Largest Contentful Paint）
   - 查看TTI（Time to Interactive）

### 预期结果

- **FCP**: < 2秒 ✅
- **LCP**: < 2.5秒 ✅
- **TTI**: < 3秒 ✅

### 实际测试

```
测试日期: ___________
测试人员: ___________

FCP: _______ ms  [ ] 通过  [ ] 未通过
LCP: _______ ms  [ ] 通过  [ ] 未通过
TTI: _______ ms  [ ] 通过  [ ] 未通过

备注: _________________________________
```

## 测试2: 白屏时间

### 步骤

1. **使用Performance标签**
   - 录制页面加载
   - 查看FP（First Paint）时间

2. **使用Network标签**
   - 查看第一个资源加载时间
   - 查看HTML文档加载时间

### 预期结果

- **FP**: < 1秒 ✅

### 实际测试

```
测试日期: ___________
测试人员: ___________

FP: _______ ms  [ ] 通过  [ ] 未通过

备注: _________________________________
```

## 测试3: 长列表渲染性能

### 步骤

1. **访问资源列表页**
   - 打开 http://localhost:5173/resource/list

2. **录制滚动性能**
   - Performance标签 → 录制
   - 快速滚动列表
   - 停止录制

3. **查看帧率**
   - 查看FPS图表
   - 查看是否有掉帧（红色条）

### 预期结果

- **平均FPS**: > 55 ✅
- **最低FPS**: > 50 ✅
- **无明显卡顿**: ✅

### 实际测试

```
测试日期: ___________
测试人员: ___________

平均FPS: _______  [ ] 通过  [ ] 未通过
最低FPS: _______  [ ] 通过  [ ] 未通过
卡顿情况: [ ] 无  [ ] 轻微  [ ] 明显

备注: _________________________________
```

## 测试4: Lighthouse评分

### 步骤

1. **打开Lighthouse**
   - 开发者工具 → Lighthouse标签
   - 如果没有，更新Chrome到最新版本

2. **配置测试**
   - 模式: Navigation
   - 设备: Desktop
   - 类别: 全选（Performance, Accessibility, Best Practices, SEO）

3. **运行测试**
   - 点击"Analyze page load"
   - 等待测试完成（约1-2分钟）

4. **查看结果**
   - 查看各项评分
   - 查看优化建议

### 预期结果

- **Performance**: > 90 ✅
- **Accessibility**: > 90 ✅
- **Best Practices**: > 90 ✅
- **SEO**: > 90 ✅

### 实际测试（桌面端）

```
测试日期: ___________
测试人员: ___________

Performance: _______  [ ] 通过  [ ] 未通过
Accessibility: _______  [ ] 通过  [ ] 未通过
Best Practices: _______  [ ] 通过  [ ] 未通过
SEO: _______  [ ] 通过  [ ] 未通过

主要问题:
1. _________________________________
2. _________________________________
3. _________________________________
```

### 实际测试（移动端）

重复上述步骤，但设备选择"Mobile"

```
测试日期: ___________
测试人员: ___________

Performance: _______  [ ] 通过  [ ] 未通过
Accessibility: _______  [ ] 通过  [ ] 未通过
Best Practices: _______  [ ] 通过  [ ] 未通过
SEO: _______  [ ] 通过  [ ] 未通过

主要问题:
1. _________________________________
2. _________________________________
3. _________________________________
```

## 测试5: 网络性能

### 步骤

1. **打开Network标签**
   - 清除缓存
   - 刷新页面

2. **查看资源加载**
   - 查看总请求数
   - 查看总传输大小
   - 查看总加载时间

3. **模拟慢速网络**
   - Network标签 → Throttling下拉菜单
   - 选择"Fast 3G"
   - 刷新页面测试

### 预期结果

- **总请求数**: < 50 ✅
- **总传输大小**: < 2MB ✅
- **Fast 3G加载时间**: < 5秒 ✅

### 实际测试

```
测试日期: ___________
测试人员: ___________

正常网络:
  请求数: _______  [ ] 通过  [ ] 未通过
  传输大小: _______ KB  [ ] 通过  [ ] 未通过
  加载时间: _______ ms  [ ] 通过  [ ] 未通过

Fast 3G:
  加载时间: _______ ms  [ ] 通过  [ ] 未通过

备注: _________________________________
```

## 测试6: 内存性能

### 步骤

1. **打开Memory标签**
   - 选择"Heap snapshot"
   - 点击"Take snapshot"

2. **操作应用**
   - 浏览多个页面
   - 滚动列表
   - 上传文件

3. **再次拍摄快照**
   - 对比两次快照
   - 查看内存增长

### 预期结果

- **无内存泄漏**: ✅
- **内存增长合理**: < 50MB ✅

### 实际测试

```
测试日期: ___________
测试人员: ___________

初始内存: _______ MB
操作后内存: _______ MB
内存增长: _______ MB  [ ] 通过  [ ] 未通过

内存泄漏: [ ] 无  [ ] 有

备注: _________________________________
```

## 测试7: 移动端性能

### 步骤

1. **启用设备模拟**
   - 开发者工具 → 设备工具栏（Ctrl+Shift+M）
   - 选择设备: iPhone 12 Pro

2. **重复上述所有测试**
   - 首屏加载
   - 白屏时间
   - 长列表滚动
   - Lighthouse评分

3. **测试触摸交互**
   - 测试滑动流畅度
   - 测试点击响应
   - 测试手势操作

### 预期结果

- **所有指标接近桌面端**: ✅
- **触摸交互流畅**: ✅

### 实际测试

```
测试日期: ___________
测试人员: ___________

首屏加载: _______ ms  [ ] 通过  [ ] 未通过
白屏时间: _______ ms  [ ] 通过  [ ] 未通过
滚动流畅度: [ ] 流畅  [ ] 一般  [ ] 卡顿
触摸响应: [ ] 快速  [ ] 一般  [ ] 缓慢

备注: _________________________________
```

## 问题记录

如果测试中发现问题，请记录以下信息：

```
问题1:
  描述: _________________________________
  严重程度: [ ] 高  [ ] 中  [ ] 低
  复现步骤: _________________________________
  截图/录屏: _________________________________

问题2:
  描述: _________________________________
  严重程度: [ ] 高  [ ] 中  [ ] 低
  复现步骤: _________________________________
  截图/录屏: _________________________________

问题3:
  描述: _________________________________
  严重程度: [ ] 高  [ ] 中  [ ] 低
  复现步骤: _________________________________
  截图/录屏: _________________________________
```

## 测试总结

```
测试日期: ___________
测试人员: ___________

总体评价: [ ] 优秀  [ ] 良好  [ ] 一般  [ ] 差

通过的测试: _______ / 7
未通过的测试: _______

主要问题:
1. _________________________________
2. _________________________________
3. _________________________________

优化建议:
1. _________________________________
2. _________________________________
3. _________________________________

是否建议上线: [ ] 是  [ ] 否

备注: _________________________________
```

## 快速检查清单

在每次发布前，快速检查以下项目：

- [ ] 首屏加载 < 2秒
- [ ] 白屏时间 < 1秒
- [ ] 可交互时间 < 3秒
- [ ] 长列表滚动流畅
- [ ] Lighthouse评分 > 90
- [ ] 无内存泄漏
- [ ] 移动端性能良好
- [ ] 无明显性能问题

## 工具推荐

### Chrome扩展

- **Lighthouse**: 性能评分
- **Web Vitals**: 实时监控核心指标
- **React DevTools**: React性能分析（如果使用React）
- **Vue DevTools**: Vue性能分析

### 在线工具

- **PageSpeed Insights**: https://pagespeed.web.dev/
- **WebPageTest**: https://www.webpagetest.org/
- **GTmetrix**: https://gtmetrix.com/

### 本地工具

- **Chrome DevTools**: 内置性能分析
- **Firefox DevTools**: 备选性能分析
- **Safari Web Inspector**: iOS性能测试

## 注意事项

1. **测试环境**
   - 使用无痕模式避免扩展干扰
   - 清除缓存确保测试准确性
   - 关闭其他标签页减少干扰

2. **测试时机**
   - 在功能开发完成后测试
   - 在发布前必须测试
   - 定期进行性能回归测试

3. **测试结果**
   - 多次测试取平均值
   - 记录测试环境和条件
   - 保存测试报告备查

4. **问题处理**
   - 优先解决严重性能问题
   - 记录所有发现的问题
   - 跟踪问题修复进度

---

**文档版本**: 1.0
**最后更新**: 2024年12月20日
