# 资源管理模块

## 概述

资源管理模块是管理后台的核心功能之一，用于管理平台上的所有资源内容。

## 功能特性

### 1. 资源列表展示
- ✅ 表格形式展示所有资源
- ✅ 显示资源封面、标题、分类、上传者等信息
- ✅ 显示下载量、浏览量等统计数据
- ✅ 显示审核状态、VIP等级、置顶/推荐标记
- ✅ 支持多选功能

### 2. 搜索和筛选
- ✅ 关键词搜索（标题/资源ID/上传者）
- ✅ 按分类筛选
- ✅ 按审核状态筛选（待审核/已通过/已驳回）
- ✅ 按VIP等级筛选（免费/VIP）
- ✅ 按状态筛选（正常/已下架）
- ✅ 支持排序（下载量、浏览量、上传时间）

### 3. 分页功能
- ✅ 支持自定义每页显示数量（10/20/50/100）
- ✅ 显示总记录数
- ✅ 支持快速跳转到指定页

### 4. 资源编辑
- ✅ 修改资源标题
- ✅ 修改资源描述
- ✅ 修改资源分类
- ✅ 修改资源标签
- ✅ 实时表单验证

### 5. 资源操作
- ✅ 下架/上架资源
- ✅ 删除资源（需二次确认）
- ✅ 置顶/取消置顶
- ✅ 推荐/取消推荐
- ✅ 批量下架
- ✅ 批量删除

## 文件结构

```
src/views/Admin/Resources/
├── index.vue                          # 资源管理主页面
├── components/
│   └── ResourceEditDialog.vue        # 资源编辑对话框
└── README.md                          # 本文档
```

## API接口

所有API接口定义在 `src/api/adminResource.ts` 文件中：

- `getAdminResourceList()` - 获取资源列表
- `getAdminResourceDetail()` - 获取资源详情
- `updateAdminResource()` - 编辑资源
- `offlineResource()` - 下架资源
- `onlineResource()` - 上架资源
- `deleteAdminResource()` - 删除资源
- `topResource()` - 置顶资源
- `recommendResource()` - 推荐资源
- `batchDeleteResources()` - 批量删除
- `batchOfflineResources()` - 批量下架

## 路由配置

资源管理页面路由：`/admin/resources`

已在 `src/router/index.ts` 中配置：

```typescript
{
  path: 'resources',
  name: 'AdminResources',
  component: () => import('@/views/Admin/Resources/index.vue'),
  meta: {
    title: '资源管理 - 管理后台'
  }
}
```

## 使用说明

### 访问资源管理页面

1. 登录管理后台
2. 在侧边栏点击"资源管理"菜单
3. 进入资源管理页面

### 搜索资源

1. 在搜索框输入关键词（标题/资源ID/上传者）
2. 选择筛选条件（分类、审核状态、VIP等级、状态）
3. 点击"搜索"按钮

### 编辑资源

1. 在资源列表中找到要编辑的资源
2. 点击"编辑"按钮
3. 在弹出的对话框中修改资源信息
4. 点击"保存"按钮

### 下架/上架资源

1. 在资源列表中找到要操作的资源
2. 点击"下架"或"上架"按钮
3. 在确认对话框中点击"确定"

### 删除资源

1. 在资源列表中找到要删除的资源
2. 点击"更多" > "删除"
3. 在确认对话框中点击"确定删除"
4. **注意：删除操作不可恢复！**

### 置顶/推荐资源

1. 在资源列表中找到要操作的资源
2. 点击"更多" > "置顶"或"推荐"
3. 操作成功后，资源会显示对应的标记

### 批量操作

1. 勾选要操作的资源（可多选）
2. 点击顶部的"批量下架"或"批量删除"按钮
3. 在确认对话框中点击"确定"

## 权限要求

访问资源管理功能需要以下权限：

- `resource:view` - 查看资源列表和详情
- `resource:edit` - 编辑资源信息
- `resource:delete` - 删除资源
- `resource:top` - 置顶资源

## 注意事项

1. **删除操作不可恢复**：删除资源前请确认，删除后无法恢复
2. **批量操作谨慎使用**：批量删除和批量下架会影响多个资源
3. **编辑限制**：只能修改资源的基本信息，不能修改文件本身
4. **审核状态**：已通过审核的资源下架后不会改变审核状态

## 需求对应

本模块实现了以下需求：

- **需求14.1-14.4**：资源列表展示、搜索筛选、分页功能
- **需求14.5**：资源编辑功能
- **需求14.6**：资源下架功能
- **需求14.7-14.8**：资源删除功能（需二次确认）
- **需求14.9**：资源置顶功能
- **需求14.10**：资源推荐功能

## 后续优化

- [ ] 添加资源预览功能
- [ ] 添加资源统计图表
- [ ] 添加资源导出功能
- [ ] 添加资源批量编辑功能
- [ ] 添加资源审核历史查看
